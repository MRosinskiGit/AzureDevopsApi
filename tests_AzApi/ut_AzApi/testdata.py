import json
from unittest.mock import MagicMock, Mock
# ruff: noqa
# fmt: off

# AzApi
_get_list_of_all_org_users_headers_raw = {'Cache-Control': 'no-cache, no-store, must-revalidate', 'Prag': 'no-cache', 'Content-Length': '1316', 'Content-Type': 'application/json; charset=utf-8; api-version=7.2-preview.1', 'Content-Encoding': 'gzip', 'Expires': '-1', 'Vary': 'Accept-Encoding', 'P3P': 'CP="CAO DSP COR AD DEV CONo TELo CUR PSA PSD TAI IVDo OUR SAMi BUS DEM NAV STA UNI COM INT PHY ONL FIN PUR LOC CNT"', 'Set-Cookie': 'VstsSession=%7B%22PersistentSessionId%22%3A%223f4218d1-20b3-4a67-9ead-e82586ee6d0b%22%2C%22PendingAuthenticationSessionId%22%3A%2200000000-0000-0000-0000-000000000000%22%2C%22CurrentAuthenticationSessionId%22%3A%2200000000-0000-0000-0000-000000000000%22%2C%22SignInState%22%3A%7B%7D%7D;SameSite=None; doin=.dev.azure.com; expires=Fri, 05-Jun-2026 12:15:33 GMT; path=/; secure; HttpOnly', 'X-TFS-ProcessId': 'b7e77ef4-a185-4b9b-a94d-191acf02ed5a', 'Strict-Transport-Security': 'x-age=31536000; includeSubDoins', 'ActivityId': '835a1f67-917c-42c1-b9be-5af3cc7c4096', 'X-TFS-Session': '835a1f67-917c-42c1-b9be-5af3cc7c4096', 'X-VSS-E2EID': '835a1f67-917c-42c1-b9be-5af3cc7c4096', 'X-VSS-SenderDeploymentId': '12151c76-78d9-45df-bc19-5b98a8c97843', 'X-VSS-UserData': '6da972d5-e5d7-67bb-a6ad-1175aa2d9a96:m.rosi97@gil.com', 'X-FRAME-OPTIONS': 'SAMEORIGIN', 'Request-Context': 'appId=cid-v1:f4305046-1403-437e-b451-856fed7b0a7d', 'Access-Control-Expose-Headers': 'Request-Context', 'X-Content-Type-Options': 'nosniff', 'X-Cache': 'CONFIG_NOCACHE', 'X-MSEdge-Ref': 'Ref A: DDF049680B1C49F1A9419AA6012B86F4 Ref B: WAW30EDGE0218 Ref C: 2025-06-05T12:15:33Z', 'Date': 'Thu, 05 Jun 2025 12:15:33 GMT'}
__get_list_of_all_org_users_response_raw = r'''{"count":4,"value":[{"subjectKind":"user","doin":"Windows Live ID","principalName":"m.rosi97@gil.com","mailAddress":"m.rosi97@gil.com","origin":"msa","originId":"00034001089CAF73","displayName":"siński","_links":{"self":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Users/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"memberships":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Memberships/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"membershipState":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/MembershipStates/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"storageKey":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/StorageKeys/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"url":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Users/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},{"subjectKind":"user","doin":"AgentPool","principalName":"cd21f869-c08d-4aa1-82e8-d6a4775f6eca","mailAddress":"","origin":"vsts","originId":"a47b22a5-f59f-4df1-b9e5-4a1780f2f295","displayName":"Agent Pool Service (10)","_links":{"self":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Users/svc.NDU4ZDM4MGMtYjEwZC00NjNkLWEzNGItMzkxMWRlN2MwYjg4OkFnZW50UG9vbDpjZDIxZjg2OS1jMDhkLTRhYTEtODJlOC1kNmE0Nzc1ZjZlY2E"},"memberships":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Memberships/svc.NDU4ZDM4MGMtYjEwZC00NjNkLWEzNGItMzkxMWRlN2MwYjg4OkFnZW50UG9vbDpjZDIxZjg2OS1jMDhkLTRhYTEtODJlOC1kNmE0Nzc1ZjZlY2E"},"membershipState":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/MembershipStates/svc.NDU4ZDM4MGMtYjEwZC00NjNkLWEzNGItMzkxMWRlN2MwYjg4OkFnZW50UG9vbDpjZDIxZjg2OS1jMDhkLTRhYTEtODJlOC1kNmE0Nzc1ZjZlY2E"},"storageKey":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/StorageKeys/svc.NDU4ZDM4MGMtYjEwZC00NjNkLWEzNGItMzkxMWRlN2MwYjg4OkFnZW50UG9vbDpjZDIxZjg2OS1jMDhkLTRhYTEtODJlOC1kNmE0Nzc1ZjZlY2E"},"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/svc.NDU4ZDM4MGMtYjEwZC00NjNkLWEzNGItMzkxMWRlN2MwYjg4OkFnZW50UG9vbDpjZDIxZjg2OS1jMDhkLTRhYTEtODJlOC1kNmE0Nzc1ZjZlY2E"}},"url":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Users/svc.NDU4ZDM4MGMtYjEwZC00NjNkLWEzNGItMzkxMWRlN2MwYjg4OkFnZW50UG9vbDpjZDIxZjg2OS1jMDhkLTRhYTEtODJlOC1kNmE0Nzc1ZjZlY2E","descriptor":"svc.NDU4ZDM4MGMtYjEwZC00NjNkLWEzNGItMzkxMWRlN2MwYjg4OkFnZW50UG9vbDpjZDIxZjg2OS1jMDhkLTRhYTEtODJlOC1kNmE0Nzc1ZjZlY2E"},{"subjectKind":"user","doin":"Build","principalName":"458d380c-b10d-463d-a34b-3911de7c0b88","mailAddress":"","origin":"vsts","originId":"feb6651b-6b1e-45a2-ad3c-c5c5962de7e4","displayName":"Project Collection Build Service (P458d380c-b10d-463d-a34b-3911de7c0b88)","_links":{"self":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Users/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjQ1OGQzODBjLWIxMGQtNDYzZC1hMzRiLTM5MTFkZTdjMGI4OA"},"memberships":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Memberships/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjQ1OGQzODBjLWIxMGQtNDYzZC1hMzRiLTM5MTFkZTdjMGI4OA"},"membershipState":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/MembershipStates/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjQ1OGQzODBjLWIxMGQtNDYzZC1hMzRiLTM5MTFkZTdjMGI4OA"},"storageKey":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/StorageKeys/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjQ1OGQzODBjLWIxMGQtNDYzZC1hMzRiLTM5MTFkZTdjMGI4OA"},"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjQ1OGQzODBjLWIxMGQtNDYzZC1hMzRiLTM5MTFkZTdjMGI4OA"}},"url":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Users/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjQ1OGQzODBjLWIxMGQtNDYzZC1hMzRiLTM5MTFkZTdjMGI4OA","descriptor":"svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjQ1OGQzODBjLWIxMGQtNDYzZC1hMzRiLTM5MTFkZTdjMGI4OA"},{"subjectKind":"user","doin":"Build","principalName":"2635d11d-46de-4dc8-9ba2-f2325ea2bc0c","mailAddress":"","origin":"vsts","originId":"3aaf6cc6-cee9-4cd9-a543-e152b516fac4","displayName":"MRAzure Build Service (mrosi97)","_links":{"self":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Users/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjI2MzVkMTFkLTQ2ZGUtNGRjOC05YmEyLWYyMzI1ZWEyYmMwYw"},"memberships":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Memberships/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjI2MzVkMTFkLTQ2ZGUtNGRjOC05YmEyLWYyMzI1ZWEyYmMwYw"},"membershipState":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/MembershipStates/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjI2MzVkMTFkLTQ2ZGUtNGRjOC05YmEyLWYyMzI1ZWEyYmMwYw"},"storageKey":{"href":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/StorageKeys/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjI2MzVkMTFkLTQ2ZGUtNGRjOC05YmEyLWYyMzI1ZWEyYmMwYw"},"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjI2MzVkMTFkLTQ2ZGUtNGRjOC05YmEyLWYyMzI1ZWEyYmMwYw"}},"url":"https://vssps.dev.azure.com/mrosi97/_apis/Graph/Users/svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjI2MzVkMTFkLTQ2ZGUtNGRjOC05YmEyLWYyMzI1ZWEyYmMwYw","descriptor":"svc.ZTk2YjA2ZmEtZDY5MC00NDY2LTllZTQtY2U3YTRhYjhlZjA2OkJ1aWxkOjI2MzVkMTFkLTQ2ZGUtNGRjOC05YmEyLWYyMzI1ZWEyYmMwYw"}]}'''
get_list_of_all_org_users_mock_single_use = MagicMock(text=__get_list_of_all_org_users_response_raw, status_code=200, headers=_get_list_of_all_org_users_headers_raw, json=Mock(return_value=json.loads(__get_list_of_all_org_users_response_raw)))
_get_list_of_all_org_users_header_continuous_raw = {'x-ms-continuationtoken':12345, 'Cache-Control': 'no-cache, no-store, must-revalidate', 'Prag': 'no-cache', 'Content-Length': '1316', 'Content-Type': 'application/json; charset=utf-8; api-version=7.2-preview.1', 'Content-Encoding': 'gzip', 'Expires': '-1', 'Vary': 'Accept-Encoding', 'P3P': 'CP="CAO DSP COR AD DEV CONo TELo CUR PSA PSD TAI IVDo OUR SAMi BUS DEM NAV STA UNI COM INT PHY ONL FIN PUR LOC CNT"', 'Set-Cookie': 'VstsSession=%7B%22PersistentSessionId%22%3A%223f4218d1-20b3-4a67-9ead-e82586ee6d0b%22%2C%22PendingAuthenticationSessionId%22%3A%2200000000-0000-0000-0000-000000000000%22%2C%22CurrentAuthenticationSessionId%22%3A%2200000000-0000-0000-0000-000000000000%22%2C%22SignInState%22%3A%7B%7D%7D;SameSite=None; doin=.dev.azure.com; expires=Fri, 05-Jun-2026 12:15:33 GMT; path=/; secure; HttpOnly', 'X-TFS-ProcessId': 'b7e77ef4-a185-4b9b-a94d-191acf02ed5a', 'Strict-Transport-Security': 'x-age=31536000; includeSubDoins', 'ActivityId': '835a1f67-917c-42c1-b9be-5af3cc7c4096', 'X-TFS-Session': '835a1f67-917c-42c1-b9be-5af3cc7c4096', 'X-VSS-E2EID': '835a1f67-917c-42c1-b9be-5af3cc7c4096', 'X-VSS-SenderDeploymentId': '12151c76-78d9-45df-bc19-5b98a8c97843', 'X-VSS-UserData': '6da972d5-e5d7-67bb-a6ad-1175aa2d9a96:m.rosi97@gil.com', 'X-FRAME-OPTIONS': 'SAMEORIGIN', 'Request-Context': 'appId=cid-v1:f4305046-1403-437e-b451-856fed7b0a7d', 'Access-Control-Expose-Headers': 'Request-Context', 'X-Content-Type-Options': 'nosniff', 'X-Cache': 'CONFIG_NOCACHE', 'X-MSEdge-Ref': 'Ref A: DDF049680B1C49F1A9419AA6012B86F4 Ref B: WAW30EDGE0218 Ref C: 2025-06-05T12:15:33Z', 'Date': 'Thu, 05 Jun 2025 12:15:33 GMT'}
get_list_of_all_org_users_mock_continuous = MagicMock(text=__get_list_of_all_org_users_response_raw, status_code=200, headers=_get_list_of_all_org_users_header_continuous_raw, json=Mock(return_value=json.loads(__get_list_of_all_org_users_response_raw)))

_get_guid_by_descriptor = r'''{"value":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"self":{"href":"https://vssps.dev.azure.com/mrosi/_apis/Graph/StorageKeys/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"descriptor":{"href":"https://vssps.dev.azure.com/mros/_apis/Graph/Descriptors/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96"}}}'''
get_guid_by_descriptor_mock = MagicMock(text=_get_guid_by_descriptor, status_code=200, json=Mock(return_value=json.loads(_get_guid_by_descriptor)))

# AzApi_Repos
_branch_list_response_raw = '{"value":[{"name":"refs/heads/main","objectId":"b79abb61b343476a200e007860db537e85","creator":{"displayName":"ciej R","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user1@gil.com","igeUrl":"https://dev.azure.com/user197/_api/_common/identityIge?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs?filter=heads%2Fin"},{"name":"refs/heads/test1","objectId":"b79abb61b6dc2a6343476a200e007860db537e85","creator":{"displayName":"MRosi","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user1@gil.com","igeUrl":"https://dev.azure.com/user197/_api/_common/identityIge?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs?filter=heads%2Ftest1"},{"name":"refs/heads/test2","objectId":"b79abb61b6dc2a6343476a200e007860db537e85","creator":{"displayName":"MRosi","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user1@gil.com","igeUrl":"https://dev.azure.com/user197/_api/_common/identityIge?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs?filter=heads%2Ftest2"}],"count":3}'
branch_list_response_mock = MagicMock(text=_branch_list_response_raw, status_code=200, json=Mock(return_value=json.loads(_branch_list_response_raw)))

_create_pr_response_raw = '{"repository":{"id":"c4baf599-aed2-472d-9a51-7933379ed4fa","name":"MRAzure","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa","project":{"id":"2635d11d-46de-4dc8-9ba2-f2325ea2bc0c","name":"MRAzure","url":"https://dev.azure.com/user197/_apis/projects/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c","state":"wellFormed","revision":11,"visibility":"private","lastUpdateTime":"2024-04-18T21:47:30.43Z"},"size":734,"remoteUrl":"https://user197@dev.azure.com/user197/MRAzure/_git/MRAzure","sshUrl":"git@ssh.dev.azure.com:v3/user197/MRAzure/MRAzure","webUrl":"https://dev.azure.com/user197/MRAzure/_git/MRAzure","isDisabled":false,"isInintenance":false},"pullRequestId":1,"codeReviewId":1,"status":"active","createdBy":{"displayName":"MRosi","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user1@gil.com","igeUrl":"https://dev.azure.com/user197/_api/_common/identityIge?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"creationDate":"2025-06-04T06:58:04.8778256Z","title":"Test PR","sourceRefName":"refs/heads/test2","targetRefName":"refs/heads/main","mergeStatus":"queued","isDraft":false,"mergeId":"706e25d7-9d71-45c3-8404-1d55792d037b","lastMergeSourceCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"lastMergeTargetCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"reviewers":[],"labels":[],"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1","_links":{"self":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1"},"repository":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa"},"workItems":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1/workitems"},"sourceBranch":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs/heads/test2"},"targetBranch":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs/heads/main"},"statuses":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1/statuses"},"sourceCommit":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"targetCommit":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"createdBy":{"href":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96"},"iterations":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1/iterations"}},"supportsIterations":true,"artifactId":"vstfs:///Git/PullRequestId/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c%2fc4baf599-aed2-472d-9a51-7933379ed4fa%2f1"}'
create_pr_response_mock = MagicMock(text=_create_pr_response_raw, status_code=201, json=Mock(return_value=json.loads(_create_pr_response_raw)))

_get_active_prs_raw = '{"value":[{"repository":{"id":"c4baf599-aed2-472d-9a51-7933379ed4fa","name":"MRAzure","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa","project":{"id":"2635d11d-46de-4dc8-9ba2-f2325ea2bc0c","name":"MRAzure","state":"unchanged","visibility":"unchanged","lastUpdateTime":"0001-01-01T00:00:00"}},"pullRequestId":1,"codeReviewId":1,"status":"active","createdBy":{"displayName":"MRosi","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user197@gil.com","igeUrl":"https://dev.azure.com/user197/_api/_common/identityIge?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"creationDate":"2025-06-04T06:58:04.8778256Z","title":"Test PR","sourceRefName":"refs/heads/test2","targetRefName":"refs/heads/main","mergeStatus":"succeeded","isDraft":false,"mergeId":"706e25d7-9d71-45c3-8404-1d55792d037b","lastMergeSourceCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"lastMergeTargetCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"lastMergeCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"reviewers":[],"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1","supportsIterations":true}],"count":1}'
get_active_prs_mock = MagicMock(text=_get_active_prs_raw, status_code=200, json=Mock(return_value=json.loads(_get_active_prs_raw)))

# AzApi_Agents
_get_pools_list_raw = '{"count":10,"value":[{"createdOn":"2024-04-17T07:05:30.253Z","autoProvision":true,"autoUpdate":true,"autoSize":true,"targetSize":null,"agentCloudId":null,"createdBy":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"owner":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"id":1,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Default","isHosted":false,"poolType":"autotion","size":0,"isLegacy":false,"options":"none"},{"createdOn":"2024-04-17T07:05:30.28Z","autoProvision":true,"autoUpdate":true,"autoSize":true,"targetSize":1,"agentCloudId":1,"createdBy":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"owner":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"id":2,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Hosted","isHosted":true,"poolType":"autotion","size":1,"isLegacy":true,"options":"none"},{"createdOn":"2024-04-17T07:05:30.343Z","autoProvision":true,"autoUpdate":true,"autoSize":true,"targetSize":1,"agentCloudId":1,"createdBy":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"owner":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"id":3,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Hosted VS2017","isHosted":true,"poolType":"autotion","size":1,"isLegacy":true,"options":"none"},{"createdOn":"2024-04-17T07:05:30.42Z","autoProvision":true,"autoUpdate":true,"autoSize":true,"targetSize":1,"agentCloudId":1,"createdBy":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"owner":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"id":4,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Hosted Windows 2019 with VS2019","isHosted":true,"poolType":"autotion","size":1,"isLegacy":true,"options":"none"},{"createdOn":"2024-04-17T07:05:30.507Z","autoProvision":true,"autoUpdate":true,"autoSize":true,"targetSize":1,"agentCloudId":1,"createdBy":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"owner":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"id":5,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Hosted Windows Container","isHosted":true,"poolType":"autotion","size":1,"isLegacy":true,"options":"none"},{"createdOn":"2024-04-17T07:05:30.7Z","autoProvision":true,"autoUpdate":true,"autoSize":true,"targetSize":1,"agentCloudId":1,"createdBy":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"owner":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"id":6,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Hosted cOS","isHosted":true,"poolType":"autotion","size":1,"isLegacy":true,"options":"none"},{"createdOn":"2024-04-17T07:05:30.817Z","autoProvision":true,"autoUpdate":true,"autoSize":true,"targetSize":1,"agentCloudId":1,"createdBy":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"owner":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"id":7,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Hosted cOS High Sierra","isHosted":true,"poolType":"autotion","size":1,"isLegacy":true,"options":"none"},{"createdOn":"2024-04-17T07:05:30.88Z","autoProvision":true,"autoUpdate":true,"autoSize":true,"targetSize":1,"agentCloudId":1,"createdBy":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"owner":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"id":8,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Hosted Ubuntu 1604","isHosted":true,"poolType":"autotion","size":1,"isLegacy":true,"options":"none"},{"createdOn":"2024-04-17T07:05:30.937Z","autoProvision":true,"autoUpdate":true,"autoSize":true,"targetSize":1,"agentCloudId":1,"createdBy":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"owner":{"displayName":"Microsoft.VisualStudio.Services.TFS","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/00000002-0000-8888-8000-000000000000","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"}},"id":"00000002-0000-8888-8000-000000000000","uniqueName":"00000002-0000-8888-8000-000000000000@2c895908-04e0-4952-89fd-54b0046d6288","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA","descriptor":"s2s.MDAwMDAwMDItMDAwMC04ODg4LTgwMDAtMDAwMDAwMDAwMDAwQDJjODk1OTA4LTA0ZTAtNDk1Mi04OWZkLTU0YjAwNDZkNjI4OA"},"id":9,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Azure Pipelines","isHosted":true,"poolType":"autotion","size":1,"isLegacy":false,"options":"none"},{"createdOn":"2025-06-04T14:32:48.887Z","autoProvision":false,"autoUpdate":true,"autoSize":true,"targetSize":null,"agentCloudId":null,"createdBy":{"displayName":"siński","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"m.rosi97@gil.com","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"owner":{"displayName":"siński","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"m.rosi97@gil.com","igeUrl":"https://dev.azure.com/mrosi97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"id":10,"scope":"458d380c-b10d-463d-a34b-3911de7c0b88","name":"Project_pool","isHosted":false,"poolType":"autotion","size":1,"isLegacy":false,"options":"none"}]}'
get_pools_list_mock = MagicMock(text=_get_pools_list_raw, status_code=200, json=Mock(return_value=json.loads(_get_pools_list_raw)))

_get_agents_list_raw = '{"count":1,"value":[{"_links":{"self":{"href":"https://dev.azure.com/mrosi97/_apis/distributedtask/pools/10/agents/9"},"web":{"href":"https://dev.azure.com/mrosi97/_settings/agentpools?view=jobs&poolId=10&agentId=9"}},"xParallelism":1,"createdOn":"2025-06-05T07:16:11.593Z","statusChangedOn":"2025-06-05T07:16:38.633Z","authorization":{"clientId":"6ff80a56-f9f3-4c85-880f-71686fbdb648","publicKey":{"exponent":"AQAB","modulus":"r4F9CLdekVeL06PoiNx+rsm8sadclIhcNokB4YS4wU48I5PedqjpmEVLswfNdmQp8DN0N1B4HcmwjWG54byofOUOnXskQZY5dxv0/J3G6QTWmkN8GQvBIJreBwVdEB9hxIHmSpKNSSQI6LDi/BoxTdaQWyB/40kvpb5Ao3GnWUxdT+jUNCJg5aoSqfnnzNllSWKNBwlusZnYiLvNuPO9frjuV1bBv5ZKLfY2IyFI1XmMNS6qeRqLd32vgOXpT3bHLz8s7gDt6xPcSBoZrxu3A5mi6H61urE2sd3/kVbDvr84Xl0e91hAY6godoJY/HOlmndfQWHJEXlp3tQsk1uwYQ=="}},"id":9,"name":"Asus","version":"4.255.0","osDescription":"Microsoft Windows 10.0.26100","enabled":true,"status":"online","provisioningState":"Provisioned","accessPoint":"CodexAccesspping"}]}'
get_agents_list_mock = MagicMock(text=_get_agents_list_raw, status_code=200, json=Mock(return_value=json.loads(_get_agents_list_raw)))

_get_agent_capabilities_raw = r'''{"systemCapabilities":{"Agent.Name":"Asus","Agent.Version":"4.255.0","Agent.ComputerName":"ASUS-MR","Agent.HomeDirectory":"C:\\AzureAgent","Agent.OS":"Windows_NT","Agent.OSArchitecture":"X64","Agent.OSVersion":"10.0.26100","ALLUSERSPROFILE":"C:\\ProgramData","APPDATA":"C:\\Users\\mrosi\\AppData\\Roaming","Cmd":"C:\\WINDOWS\\system32\\cmd.exe","CommonProgramFiles":"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files","CommonProgramW6432":"C:\\Program Files\\Common Files","COMPUTERNAME":"ASUS-MR","ComSpec":"C:\\WINDOWS\\system32\\cmd.exe","CUDA_PATH":"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6","CUDA_PATH_V12_6":"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6","DotNetFramework":"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319","DotNetFramework_2.0":"C:\\Windows\\Microsoft.NET\\Framework\\v2.0.50727","DotNetFramework_2.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v2.0.50727","DotNetFramework_3.0":"C:\\Windows\\Microsoft.NET\\Framework\\v3.0","DotNetFramework_3.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v3.0","DotNetFramework_3.5":"C:\\Windows\\Microsoft.NET\\Framework\\v3.5","DotNetFramework_3.5_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v3.5","DotNetFramework_4.8.0":"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319","DotNetFramework_4.8.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319","DriverData":"C:\\Windows\\System32\\Drivers\\DriverData","EFC_11092_1262719628":"1","EFC_11092_1592913036":"1","EFC_11092_2283032206":"1","EFC_11092_2775293581":"1","EFC_11092_3789132940":"1","FPS_BROWSER_APP_PROFILE_STRING":"Internet Explorer","FPS_BROWSER_USER_PROFILE_STRING":"Default","HOMEDRIVE":"C:","HOMEPATH":"\\Users\\mrosi","InteractiveSession":"True","LOCALAPPDATA":"C:\\Users\\mrosi\\AppData\\Local","LOGONSERVER":"\\\\ASUS-MR","MSBuild":"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\","MSBuild_2.0":"C:\\Windows\\Microsoft.NET\\Framework\\v2.0.50727\\","MSBuild_2.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v2.0.50727\\","MSBuild_3.5":"C:\\Windows\\Microsoft.NET\\Framework\\v3.5\\","MSBuild_3.5_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v3.5\\","MSBuild_4.0":"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\","MSBuild_4.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\","MSBuild_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\","NUMBER_OF_PROCESSORS":"12","OneDrive":"C:\\Users\\mrosi\\OneDrive","OS":"Windows_NT","Path":"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6\\bin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6\\libnvvp;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\NVIDIA Corporation\\Nsight Compute 2024.3.0\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA App\\NvDLISR;C:\\Users\\mrosi\\AppData\\Local\\Programs\\Python\\Python311\\Scripts\\;C:\\Users\\mrosi\\AppData\\Local\\Programs\\Python\\Python311\\;C:\\Users\\mrosi\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\mrosi\\AppData\\Local\\Microsoft\\WinGet\\Links;","PATHEXT":".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC","PowerShell":"5.1.26100.4061","PROCESSOR_ARCHITECTURE":"AMD64","PROCESSOR_IDENTIFIER":"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD","PROCESSOR_LEVEL":"25","PROCESSOR_REVISION":"5000","ProgramData":"C:\\ProgramData","ProgramFiles":"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)","ProgramW6432":"C:\\Program Files","PROMPT":"$P$G","PUBLIC":"C:\\Users\\Public","SESSIONNAME":"Console","SystemDrive":"C:","SystemRoot":"C:\\WINDOWS","TEMP":"C:\\Users\\mrosi\\AppData\\Local\\Temp","TMP":"C:\\Users\\mrosi\\AppData\\Local\\Temp","USERDOMAIN":"ASUS-MR","USERDOMAIN_ROAMINGPROFILE":"ASUS-MR","USERNAME":"mrosi","USERPROFILE":"C:\\Users\\mrosi","VERBOSE_ARG":"'SilentlyContinue'","windir":"C:\\WINDOWS"},"userCapabilities":{"testflag":"2","testflag2":"2","testflag3":"2"},"_links":{"self":{"href":"https://dev.azure.com/mrosinski97/_apis/distributedtask/pools/10/agents/9"},"web":{"href":"https://dev.azure.com/mrosinski97/_settings/agentpools?view=jobs&poolId=10&agentId=9"}},"maxParallelism":1,"createdOn":"2025-06-05T07:16:11.593Z","statusChangedOn":"2025-06-09T06:23:48.16Z","authorization":{"clientId":"6ff80a56-f9f3-4c85-880f-71686fbdb648","publicKey":{"exponent":"AQAB","modulus":"r4F9CLdekVeL06PoiNx+rsm8sadclIhcNokB4YS4wU48I5PedqjpmEVLswfNdmQp8DN0N1B4HcmwjWG54byofOUOnXskQZY5dxv0/J3G6QTWmkN8GQvBIJreBwVdEB9hxIHmSpKNSSQI6LDi/BoxTdaQWyB/40kvpb5Ao3GnWUxdT+jUNCJg5aoSqfnnzNllSWKNBwlusZnYiLvNuPO9frjuV1bBv5ZKLfY2IyFI1XmMNS6qeRqLd32vgOXpT3bHLz8s7gDt6xPcSBoZrxu3A5mi6H61urE2sd3/kVbDvr84Xl0e91hAY6godoJY/HOlmndfQWHJEXlp3tQsk1uwYQ=="}},"id":9,"name":"Asus","version":"4.255.0","osDescription":"Microsoft Windows 10.0.26100","enabled":true,"status":"online","provisioningState":"Provisioned","accessPoint":"CodexAccessMapping"}'''
get_agent_capabilities_mock = MagicMock(text=_get_agent_capabilities_raw, status_code=200, json=Mock(return_value=json.loads(_get_agent_capabilities_raw)))

_change_capabilities_raw = r'''{"properties":{"ServerUrl":{"$type":"System.String","$value":"https://dev.azure.com/mrosi97/"}},"systemCapabilities":{"Agent.Name":"Asus","Agent.Version":"4.255.0","Agent.ComputerName":"ASUS-MR","Agent.HomeDirectory":"C:\\AzureAgent","Agent.OS":"Windows_NT","Agent.OSArchitecture":"X64","Agent.OSVersion":"10.0.26100","ALLUSERSPROFILE":"C:\\ProgramData","APPDATA":"C:\\Users\\mrosi\\AppData\\Roaming","Cmd":"C:\\WINDOWS\\system32\\cmd.exe","CommonProgramFiles":"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files","CommonProgramW6432":"C:\\Program Files\\Common Files","COMPUTERNAME":"ASUS-MR","ComSpec":"C:\\WINDOWS\\system32\\cmd.exe","CUDA_PATH":"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6","CUDA_PATH_V12_6":"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6","DotNetFramework":"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319","DotNetFramework_2.0":"C:\\Windows\\Microsoft.NET\\Framework\\v2.0.50727","DotNetFramework_2.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v2.0.50727","DotNetFramework_3.0":"C:\\Windows\\Microsoft.NET\\Framework\\v3.0","DotNetFramework_3.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v3.0","DotNetFramework_3.5":"C:\\Windows\\Microsoft.NET\\Framework\\v3.5","DotNetFramework_3.5_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v3.5","DotNetFramework_4.8.0":"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319","DotNetFramework_4.8.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319","DriverData":"C:\\Windows\\System32\\Drivers\\DriverData","EFC_11092_1262719628":"1","EFC_11092_1592913036":"1","EFC_11092_2283032206":"1","EFC_11092_2775293581":"1","EFC_11092_3789132940":"1","FPS_BROWSER_APP_PROFILE_STRING":"Internet Explorer","FPS_BROWSER_USER_PROFILE_STRING":"Default","HOMEDRIVE":"C:","HOMEPATH":"\\Users\\mrosi","InteractiveSession":"True","LOCALAPPDATA":"C:\\Users\\mrosi\\AppData\\Local","LOGONSERVER":"\\\\ASUS-MR","MSBuild":"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\","MSBuild_2.0":"C:\\Windows\\Microsoft.NET\\Framework\\v2.0.50727\\","MSBuild_2.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v2.0.50727\\","MSBuild_3.5":"C:\\Windows\\Microsoft.NET\\Framework\\v3.5\\","MSBuild_3.5_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v3.5\\","MSBuild_4.0":"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\","MSBuild_4.0_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\","MSBuild_x64":"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\","NUMBER_OF_PROCESSORS":"12","OneDrive":"C:\\Users\\mrosi\\OneDrive","OS":"Windows_NT","Path":"C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6\\bin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v12.6\\libnvvp;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\NVIDIA Corporation\\Nsight Compute 2024.3.0\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA App\\NvDLISR;C:\\Users\\mrosi\\AppData\\Local\\Programs\\Python\\Python311\\Scripts\\;C:\\Users\\mrosi\\AppData\\Local\\Programs\\Python\\Python311\\;C:\\Users\\mrosi\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\mrosi\\AppData\\Local\\Microsoft\\WinGet\\Links;","PATHEXT":".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC","PowerShell":"5.1.26100.4061","PROCESSOR_ARCHITECTURE":"AMD64","PROCESSOR_IDENTIFIER":"AMD64 Family 25 Model 80 Stepping 0, AuthenticAMD","PROCESSOR_LEVEL":"25","PROCESSOR_REVISION":"5000","ProgramData":"C:\\ProgramData","ProgramFiles":"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)","ProgramW6432":"C:\\Program Files","PROMPT":"$P$G","PUBLIC":"C:\\Users\\Public","SESSIONNAME":"Console","SystemDrive":"C:","SystemRoot":"C:\\WINDOWS","TEMP":"C:\\Users\\mrosi\\AppData\\Local\\Temp","TMP":"C:\\Users\\mrosi\\AppData\\Local\\Temp","USERDOIN":"ASUS-MR","USERDOIN_ROAMINGPROFILE":"ASUS-MR","USERNAME":"mrosi","USERPROFILE":"C:\\Users\\mrosi","VERBOSE_ARG":"'SilentlyContinue'","windir":"C:\\WINDOWS"},"userCapabilities":{"testflag":"2","testflag2":"2","testflag3":"2"},"_links":{"self":{"href":"https://dev.azure.com/mrosi97/_apis/distributedtask/pools/10/agents/9"},"web":{"href":"https://dev.azure.com/mrosi97/_settings/agentpools?view=jobs&poolId=10&agentId=9"}},"xParallelism":1,"createdOn":"2025-06-05T07:16:11.593Z","statusChangedOn":"2025-06-05T08:11:54.88Z","authorization":{"clientId":"6ff80a56-f9f3-4c85-880f-71686fbdb648","publicKey":{"exponent":"AQAB","modulus":"r4F9CLdekVeL06PoiNx+rsm8sadclIhcNokB4YS4wU48I5PedqjpmEVLswfNdmQp8DN0N1B4HcmwjWG54byofOUOnXskQZY5dxv0/J3G6QTWmkN8GQvBIJreBwVdEB9hxIHmSpKNSSQI6LDi/BoxTdaQWyB/40kvpb5Ao3GnWUxdT+jUNCJg5aoSqfnnzNllSWKNBwlusZnYiLvNuPO9frjuV1bBv5ZKLfY2IyFI1XmMNS6qeRqLd32vgOXpT3bHLz8s7gDt6xPcSBoZrxu3A5mi6H61urE2sd3/kVbDvr84Xl0e91hAY6godoJY/HOlmndfQWHJEXlp3tQsk1uwYQ=="}},"id":9,"name":"Asus","version":"4.255.0","osDescription":"Microsoft Windows 10.0.26100","enabled":true,"status":"online","provisioningState":"Provisioned","accessPoint":"CodexAccesspping"}'''

# AzApi_Boards
_create_wokitem_raw = '{"id":4,"rev":1,"fields":{"System.AreaPath":"MRAzure","System.TeamProject":"MRAzure","System.IterationPath":"MRAzure","System.WorkItemType":"Task","System.State":"To Do","System.Reason":"Added to backlog","System.CreatedDate":"2025-06-10T07:17:23.173Z","System.CreatedBy":{"displayName":"Maciej Rosiński","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"m.rosinski97@gmail.com","imageUrl":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"System.ChangedDate":"2025-06-10T07:17:23.173Z","System.ChangedBy":{"displayName":"Maciej Rosiński","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"m.rosinski97@gmail.com","imageUrl":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"System.CommentCount":0,"System.Title":"Review Task","Microsoft.VSTS.Common.StateChangeDate":"2025-06-10T07:17:23.173Z","Microsoft.VSTS.Common.Priority":2,"System.Description":"Review Task for Documentation"},"_links":{"self":{"href":"https://dev.azure.com/mrosinski97/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/wit/workItems/4"},"workItemUpdates":{"href":"https://dev.azure.com/mrosinski97/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/wit/workItems/4/updates"},"workItemRevisions":{"href":"https://dev.azure.com/mrosinski97/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/wit/workItems/4/revisions"},"workItemComments":{"href":"https://dev.azure.com/mrosinski97/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/wit/workItems/4/comments"},"html":{"href":"https://dev.azure.com/mrosinski97/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_workitems/edit/4"},"workItemType":{"href":"https://dev.azure.com/mrosinski97/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/wit/workItemTypes/Task"},"fields":{"href":"https://dev.azure.com/mrosinski97/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/wit/fields"}},"url":"https://dev.azure.com/mrosinski97/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/wit/workItems/4"}'
create_workitem_mock = MagicMock(text=_create_wokitem_raw, status_code=200, json=Mock(return_value=json.loads(_create_wokitem_raw)))

_wiql_response = '{"queryType":"flat","queryResultType":"workItem","asOf":"2025-06-21T07:13:07.93Z","columns":[{"referenceName":"System.Id","name":"ID","url":"https://dev.azure.com/mrosinski97/_apis/wit/fields/System.Id"},{"referenceName":"System.Title","name":"Title","url":"https://dev.azure.com/mrosinski97/_apis/wit/fields/System.Title"},{"referenceName":"System.State","name":"State","url":"https://dev.azure.com/mrosinski97/_apis/wit/fields/System.State"},{"referenceName":"System.CreatedDate","name":"Created Date","url":"https://dev.azure.com/mrosinski97/_apis/wit/fields/System.CreatedDate"},{"referenceName":"System.CreatedBy","name":"Created By","url":"https://dev.azure.com/mrosinski97/_apis/wit/fields/System.CreatedBy"}],"sortColumns":[{"field":{"referenceName":"System.CreatedDate","name":"Created Date","url":"https://dev.azure.com/mrosinski97/_apis/wit/fields/System.CreatedDate"},"descending":true},{"field":{"referenceName":"Microsoft.VSTS.Common.Priority","name":"Priority","url":"https://dev.azure.com/mrosinski97/_apis/wit/fields/Microsoft.VSTS.Common.Priority"},"descending":false}],"workItems":[{"id":4,"url":"https://dev.azure.com/mrosinski97/_apis/wit/workItems/4"},{"id":2,"url":"https://dev.azure.com/mrosinski97/_apis/wit/workItems/2"},{"id":1,"url":"https://dev.azure.com/mrosinski97/_apis/wit/workItems/1"}]}'
wiql_response_mock = MagicMock(text=_wiql_response, status_code=200, json=Mock(return_value=json.loads(_wiql_response)))
_id_details_response = '{"count":3,"value":[{"id":1,"rev":1,"fields":{"System.Id":1,"System.State":"To Do","System.CreatedDate":"2025-06-04T14:07:16.317Z","System.CreatedBy":{"displayName":"Maciej Rosiński","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"m.rosinski97@gmail.com","imageUrl":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"System.Title":"test task"},"multilineFieldsFormat":{},"url":"https://dev.azure.com/mrosinski97/_apis/wit/workItems/1"},{"id":2,"rev":4,"fields":{"System.Id":2,"System.State":"Done","System.CreatedDate":"2025-06-04T14:07:20.017Z","System.CreatedBy":{"displayName":"Maciej Rosiński","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"m.rosinski97@gmail.com","imageUrl":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"System.Title":"Test2"},"multilineFieldsFormat":{},"url":"https://dev.azure.com/mrosinski97/_apis/wit/workItems/2"},{"id":4,"rev":2,"fields":{"System.Id":4,"System.State":"Doing","System.CreatedDate":"2025-06-10T07:17:23.173Z","System.CreatedBy":{"displayName":"Maciej Rosiński","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"m.rosinski97@gmail.com","imageUrl":"https://dev.azure.com/mrosinski97/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"System.Title":"Review Task"},"multilineFieldsFormat":{},"url":"https://dev.azure.com/mrosinski97/_apis/wit/workItems/4"}]}'
id_details_response_mock = MagicMock(text=_id_details_response, status_code=200, json=Mock(return_value=json.loads(_id_details_response)))
