import json
from unittest.mock import MagicMock, Mock

# fmt: off
_branch_list_response_raw = '{"value":[{"name":"refs/heads/main","objectId":"b79abb61b343476a200e007860db537e85","creator":{"displayName":"Maciej R","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user1@gmail.com","imageUrl":"https://dev.azure.com/user197/_api/_common/identityImage?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs?filter=heads%2Fmain"},{"name":"refs/heads/test1","objectId":"b79abb61b6dc2a6343476a200e007860db537e85","creator":{"displayName":"MRosi","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user1@gmail.com","imageUrl":"https://dev.azure.com/user197/_api/_common/identityImage?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs?filter=heads%2Ftest1"},{"name":"refs/heads/test2","objectId":"b79abb61b6dc2a6343476a200e007860db537e85","creator":{"displayName":"MRosi","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user1@gmail.com","imageUrl":"https://dev.azure.com/user197/_api/_common/identityImage?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs?filter=heads%2Ftest2"}],"count":3}'
branch_list_response_mock = MagicMock(text=_branch_list_response_raw, status_code=200, json=Mock(return_value=json.loads(_branch_list_response_raw)))

_create_pr_response_raw = '{"repository":{"id":"c4baf599-aed2-472d-9a51-7933379ed4fa","name":"MRAzure","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa","project":{"id":"2635d11d-46de-4dc8-9ba2-f2325ea2bc0c","name":"MRAzure","url":"https://dev.azure.com/user197/_apis/projects/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c","state":"wellFormed","revision":11,"visibility":"private","lastUpdateTime":"2024-04-18T21:47:30.43Z"},"size":734,"remoteUrl":"https://user197@dev.azure.com/user197/MRAzure/_git/MRAzure","sshUrl":"git@ssh.dev.azure.com:v3/user197/MRAzure/MRAzure","webUrl":"https://dev.azure.com/user197/MRAzure/_git/MRAzure","isDisabled":false,"isInMaintenance":false},"pullRequestId":1,"codeReviewId":1,"status":"active","createdBy":{"displayName":"MRosi","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user1@gmail.com","imageUrl":"https://dev.azure.com/user197/_api/_common/identityImage?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"creationDate":"2025-06-04T06:58:04.8778256Z","title":"Test PR","sourceRefName":"refs/heads/test2","targetRefName":"refs/heads/main","mergeStatus":"queued","isDraft":false,"mergeId":"706e25d7-9d71-45c3-8404-1d55792d037b","lastMergeSourceCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"lastMergeTargetCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"reviewers":[],"labels":[],"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1","_links":{"self":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1"},"repository":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa"},"workItems":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1/workitems"},"sourceBranch":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs/heads/test2"},"targetBranch":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/refs/heads/main"},"statuses":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1/statuses"},"sourceCommit":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"targetCommit":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"createdBy":{"href":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96"},"iterations":{"href":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1/iterations"}},"supportsIterations":true,"artifactId":"vstfs:///Git/PullRequestId/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c%2fc4baf599-aed2-472d-9a51-7933379ed4fa%2f1"}'
create_pr_response_mock = MagicMock(text=_create_pr_response_raw, status_code=201, json=Mock(return_value=json.loads(_create_pr_response_raw)))

_get_active_prs_raw = '{"value":[{"repository":{"id":"c4baf599-aed2-472d-9a51-7933379ed4fa","name":"MRAzure","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa","project":{"id":"2635d11d-46de-4dc8-9ba2-f2325ea2bc0c","name":"MRAzure","state":"unchanged","visibility":"unchanged","lastUpdateTime":"0001-01-01T00:00:00"}},"pullRequestId":1,"codeReviewId":1,"status":"active","createdBy":{"displayName":"MRosi","url":"https://spsprodcin2.vssps.visualstudio.com/Ae96b06fa-d690-4466-9ee4-ce7a4ab8ef06/_apis/Identities/6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","_links":{"avatar":{"href":"https://dev.azure.com/user197/_apis/GraphProfile/MemberAvatars/msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"}},"id":"6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","uniqueName":"user197@gmail.com","imageUrl":"https://dev.azure.com/user197/_api/_common/identityImage?id=6da972d5-e5d7-67bb-a6ad-1175aa2d9a96","descriptor":"msa.NmRhOTcyZDUtZTVkNy03N2JiLWE2YWQtMTE3NWFhMmQ5YTk2"},"creationDate":"2025-06-04T06:58:04.8778256Z","title":"Test PR","sourceRefName":"refs/heads/test2","targetRefName":"refs/heads/main","mergeStatus":"succeeded","isDraft":false,"mergeId":"706e25d7-9d71-45c3-8404-1d55792d037b","lastMergeSourceCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"lastMergeTargetCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"lastMergeCommit":{"commitId":"b79abb61b6dc2a6343476a200e007860db537e85","url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/commits/b79abb61b6dc2a6343476a200e007860db537e85"},"reviewers":[],"url":"https://dev.azure.com/user197/2635d11d-46de-4dc8-9ba2-f2325ea2bc0c/_apis/git/repositories/c4baf599-aed2-472d-9a51-7933379ed4fa/pullRequests/1","supportsIterations":true}],"count":1}'
get_active_prs_mock = MagicMock(text=_get_active_prs_raw, status_code=200, json=Mock(return_value=json.loads(_get_active_prs_raw)))
